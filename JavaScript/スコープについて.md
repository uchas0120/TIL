
[var, let, const の違い](https://github.com/uchas0120/TIL/blob/main/JavaScript/var%2C%20let%2C%20const.md)でも説明しているが、ここでは見返しやすいようにスコープのみに焦点を絞って再度まとめて記述する。
## スコープとは
スコープとは、変数を使用できる範囲のこと。  
大きく分けてグローバルスコープとローカルスコープがあり、ローカルスコープにはブロックスコープと関数スコープの2つがある。
![scope](https://github.com/uchas0120/TIL/blob/main/images/scope.png)
- グローバルスコープ：あらゆる場所で利用可能で、全ての場所からアクセス出来る。
- ローカルスコープ：｛｝の中など、特定の範囲でのみ利用可能で、上の階層が自分を参照および上書きをすることは出来ない。  
  **※自分が上の階層を参照することは可能。**
  - 関数スコープ：関数内で利用可能で、入れ子構造で複数使用することは出来ない。
  - ブロックスコープ：　ifやforなどの波括弧｛｝で囲まれたブロックごとに作られるスコープ内で利用可能。  
※ブロックごとに同じ変数名を使用でき、上の階層から上書きがされない。

letはブロックスコープのため、上の階層からの参照および上書がされない。  
```
function myFunc() {
    let local = '関数スコープ';
    console.log(local); // 関数スコープ

    if (true) {
        let local = 'ブロックスコープ'; // ブロックが異なるため、同じ変数名を再度宣言できる。
        console.log(local); // ブロックスコープ
    }
// 上書きされず、外側のブロックの値で保たれている。
    console.log(local); // 関数スコープ
}
```

一方、varは関数スコープのため、入れ子の内側(関数以外の波括弧｛｝)での代入が外側にも影響されてしまう。  
意図しない上書きがされてしまうため、使うべきではない。
```
function myFunc() {
    var local = '関数スコープ';
    console.log(local); // 関数スコープ

    if (true) {
        var local = 'ブロックスコープ'; // ここで上書きされてしまう。
        console.log(local); // ブロックスコープ
    }
// 上書きされたため、内側のブロックの値になってしまう。
    console.log(local); // ブロックスコープ
}
```
