メディアクエリとは、条件に一致したときのみCSSを適用させることが出来る要素のこと。
メディアクエリを使うと、PCやタブレット、スマホなど、それぞれの画面の大きさに合わせて最適なレイアウトを表示させることが出来るようになる。  
このデザインの仕方をレスポンシブデザインという。  
例えば、ビューポートが480pxよりも大きい場合は文字を大きくしたり、背景色を変えたりできる。

## 記述方法
### 1. スタイルシートに指定する
CSSが記載されているファイルに直接記述する方法。
```
@media メディアタイプ and (画面幅を指定するCSS: 画面サイズpx){
  適応させたいCSS
}
```
以下のもので構成されています。  
- 先頭に@mediaを記述する。
- メディアタイプを指定する。  
このコードがどのようなメディア（例えば、印刷、画面）のためのものであるかをブラウザに伝えます。
  - `all`：すべての端末に一致
  - `print`：ページ付きの素材や、印刷プレビューモードで画面に表示される。
  - `screen`：画面のタイプ。
  - `speech`：音声合成。
上記のように4つあるが、レスポンシブデザインをする際は`screen`を指定するのが一般的。

- メディア規則（画面幅など）を指定する。（含まれている CSS を適用するための条件）  
  どのような場面のときに CSS を適用させたいかを記述します。
  レスポンシブデザインを作成するために最も頻繁に指定されるのはビューポートの幅で、ビューポートが特定の幅よりも狭く、もしくは広くなった場合に適用させることが出来ます。  
  - `(max-width: ●●px)`：ビューポートの幅が●●pxより狭いときにCSSが適用される。（最大●●pxまで適用するという意味）
  - `(min-width: ●●px)`：ビューポートの幅が●●pxより広いときにCSSが適用される。（最低●●pxから適用するという意味）
  
- CSS 規則のセットを指定する。  
   適用させたい CSS を記述します。

例えば、ビューポートが480ピクセルよりも狭い場合に色を紫にするには以下のように記述します。
```
@media screen and (max-width: 480px) {
  body {
    color: purple;
  }
}
```
#### ※注意事項※
HTMLファイルにも読み込み用の記述が必要になるため忘れずに記載すること。
```
<meta name="viewport" content="width=device-width, initial-scale=1.0">
```
#### 複数の条件を指定する場合
- メディアタイプを組み合わせる場合：メディア規則の間に`and`を記述する。
- メディアタイプのいずれかが一致する場合：メディア規則の間に`,`を記述する。
- メディアクエリー全体を否定したい場合：メディアタイプの前に`not`を記述する。

### 2. link要素で指定する
HTMLのheadタグの中に記述する方法です。
```
<head>
<link rel="stylesheet" href="style.css" media="screen and (max-width:480px)">
/**
 中略
**/
</head>
```
上記は、「画面サイズが480pxまではstyle.cssを読み込め」という意味で、画面サイズ480pxまではstyle.cssに記述されているCSSが適用されます。  
複数行用意することも可能です。  
複数行用意する場合は端末のビューポートの幅ごとに分けられていることが多いです。

---

### メディアクエリが効かないとき
メディアクエリを記述しているのに、レスポンシブデザインにならないときは以下を確認してみてください。
- HTMLの<head>タグ内に<meta name=”viewport” …>の記述がない。
- @media screen andの後に半角スペースがない。
- メディアクエリの記述式後に別の記述式で画面幅が指定されている。  
特に**CSSは上から順にコードが処理されていく**ので、後述のコードに上書きされてしまうこともあります。

### ブレークポイントの選択方法
メディアクエリーが導入されるポイントは、**ブレークポイント**（breakpoints）と呼ばれます。
PCやタブレット、スマホなど、それぞれの画面の大きさに合わせてブレークポイントを設定しますが、現在、非常に多様なサイズのデバイスが多すぎて、それを実現するのが難しい。  
そのため、すべてのデザインにおいて特定のサイズを対象にするのではなく、コンテンツが何らかの方法で壊れ始めるサイズでデザインを変更することをお勧めします。  
この方法であればあらゆる範囲に対応することが出来る。

### レスポンシブデザインの考え方について
レスポンシブデザインには、大きく分けて 2 つのアプローチがあります。  
- 広い画面から狭くなるにつれて並べ替えるためのブレークポイントを追加する方法。
- 最小のビューから始めて、ビューポートが大きくなるにつれてレイアウトを追加する方法。  
モバイルファースト レスポンシブデザインと呼ばれ、こちらで記述する方が最善。
先にモバイル向けにCSSを記述してしまえば、その他の端末でも共通で使用することができます。  
あとは足りない分だけ足していくだけなので、記述量も少なく済み、メンテナンス等も楽になります。
モバイルファーストでの記述例：
```
/*------------------------------
 ▼共通デザイン（モバイル向け）
 -------------------------------*/
            ・
            ・
            ・
/*-------------------------------------
 ▼中型画面向けデザイン（タブレットなど）
 --------------------------------------*/
@media screen and (min-width: 768px) {
            ・
            ・
            ・
}
/*-------------------------------
 ▼大型画面向けデザイン（PCなど）
 --------------------------------*/
@media screen and (min-width: 1024px) {
            ・
            ・
            ・
}
```





